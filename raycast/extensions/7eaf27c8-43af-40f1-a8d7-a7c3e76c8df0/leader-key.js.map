{
  "version": 3,
  "sources": ["../src/leader-key.tsx", "../src/types.ts", "../src/storage.ts", "../src/actions.ts", "../src/forms.tsx"],
  "sourcesContent": ["import {\n  Action,\n  ActionPanel,\n  Alert,\n  Color,\n  confirmAlert,\n  Icon,\n  List,\n  getPreferenceValues,\n  LocalStorage,\n  showToast,\n  Toast,\n  useNavigation,\n} from \"@raycast/api\";\nimport { useEffect, useState, useCallback, useRef, useMemo } from \"react\";\nimport {\n  RootConfig,\n  ActionOrGroup,\n  Group,\n  isGroup,\n  Action as ActionItem,\n} from \"./types\";\nimport {\n  getConfig,\n  saveConfig,\n  deleteItem,\n  findGroupByPath,\n  resolveBrowser,\n} from \"./storage\";\nimport { executeAction, getActionIcon } from \"./actions\";\nimport { AddItemForm, EditItemForm } from \"./forms\";\n\nconst STORAGE_KEY = \"leader-key-config\";\nconst LEGACY_STORAGE_KEY = \"key-mappings\";\n\ninterface SearchResult {\n  item: ActionOrGroup;\n  path: string[];\n  pathKeys: string[];\n  pathLabels: string[];\n  matchedOn: \"label\" | \"value\" | \"key\";\n}\n\nfunction getTimeoutMs(): number | null {\n  const prefs = getPreferenceValues<Preferences>();\n\n  if (!prefs.enableTimeout) {\n    return null;\n  }\n\n  const seconds = parseFloat(prefs.timeoutSeconds);\n  if (isNaN(seconds)) {\n    return 2500;\n  }\n\n  const clamped = Math.max(2.5, Math.min(6, seconds));\n  return clamped * 1000;\n}\n\nfunction searchAllItems(config: RootConfig, query: string): SearchResult[] {\n  const results: SearchResult[] = [];\n  const lowerQuery = query.toLowerCase();\n\n  function traverse(\n    items: ActionOrGroup[],\n    currentPath: string[],\n    currentKeys: string[],\n    currentLabels: string[],\n  ) {\n    for (const item of items) {\n      const itemPath = [...currentPath, item.id];\n      const itemKeys = [...currentKeys, item.key];\n      const itemLabels = [...currentLabels, item.label || item.key];\n\n      const labelMatch = item.label?.toLowerCase().includes(lowerQuery);\n      const keyMatch = item.key.toLowerCase().includes(lowerQuery);\n      const valueMatch =\n        !isGroup(item) &&\n        (item as ActionItem).value.toLowerCase().includes(lowerQuery);\n\n      if (labelMatch || keyMatch || valueMatch) {\n        results.push({\n          item,\n          path: itemPath,\n          pathKeys: itemKeys,\n          pathLabels: itemLabels,\n          matchedOn: labelMatch ? \"label\" : valueMatch ? \"value\" : \"key\",\n        });\n      }\n\n      if (isGroup(item)) {\n        traverse(item.actions, itemPath, itemKeys, itemLabels);\n      }\n    }\n  }\n\n  traverse(config.actions, [], [], []);\n  return results;\n}\n\nexport default function LeaderKey() {\n  const [config, setConfig] = useState<RootConfig | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [currentPath, setCurrentPath] = useState<string[]>([]);\n  const [searchText, setSearchText] = useState(\"\");\n  const [searchMode, setSearchMode] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [confirmedResults, setConfirmedResults] = useState<SearchResult[]>([]);\n  const [keySequence, setKeySequence] = useState(\"\");\n  const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const { push } = useNavigation();\n\n  useEffect(() => {\n    loadConfig();\n    setCurrentPath([]);\n    setSearchText(\"\");\n    setSearchMode(false);\n    setSearchQuery(\"\");\n    setConfirmedResults([]);\n    setKeySequence(\"\");\n  }, []);\n\n  async function loadConfig() {\n    const data = await getConfig();\n    setConfig(data);\n    setIsLoading(false);\n  }\n\n  async function handleDelete(item: ActionOrGroup, itemPath: string[]) {\n    const confirmed = await confirmAlert({\n      title: \"Delete Item\",\n      message: `Are you sure you want to delete \"${item.label || item.key}\"?${\n        isGroup(item)\n          ? ` This will also delete ${item.actions.length} child items.`\n          : \"\"\n      }`,\n      primaryAction: {\n        title: \"Delete\",\n        style: Alert.ActionStyle.Destructive,\n      },\n    });\n\n    if (confirmed && config) {\n      const newConfig = await deleteItem(config, itemPath);\n      await saveConfig(newConfig);\n      setConfig(newConfig);\n      await showToast({ style: Toast.Style.Success, title: \"Item deleted\" });\n    }\n  }\n\n  async function handleClearConfig() {\n    const confirmed = await confirmAlert({\n      title: \"Clear Configuration\",\n      message:\n        \"This will delete all your LeaderKey shortcuts. This action cannot be undone.\",\n      primaryAction: {\n        title: \"Clear\",\n        style: Alert.ActionStyle.Destructive,\n      },\n    });\n\n    if (confirmed) {\n      await LocalStorage.removeItem(STORAGE_KEY);\n      await LocalStorage.removeItem(LEGACY_STORAGE_KEY);\n      await loadConfig();\n      await showToast({\n        style: Toast.Style.Success,\n        title: \"Configuration cleared\",\n        message: \"All shortcuts have been deleted\",\n      });\n    }\n  }\n\n  const currentGroup = config\n    ? currentPath.length === 0\n      ? config\n      : findGroupByPath(config, currentPath)\n    : null;\n\n  const items = currentGroup?.actions || [];\n  const groupedItems = groupAndSortItems(items);\n\n  const searchResults = useMemo(() => {\n    if (!searchMode || !config || !searchQuery) {\n      return [];\n    }\n    return searchAllItems(config, searchQuery);\n  }, [searchMode, config, searchQuery]);\n\n  const resetTimeout = useCallback(() => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n\n    const timeoutMs = getTimeoutMs();\n    if (timeoutMs === null) {\n      return;\n    }\n\n    timeoutRef.current = setTimeout(() => {\n      setSearchText(\"\");\n      setCurrentPath([]);\n      setSearchMode(false);\n      setSearchQuery(\"\");\n      setConfirmedResults([]);\n      setKeySequence(\"\");\n    }, timeoutMs);\n  }, []);\n\n  useEffect(() => {\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, []);\n\n  const handleSearchChange = useCallback(\n    (text: string) => {\n      resetTimeout();\n\n      if (confirmedResults.length > 0) {\n        setSearchText(text);\n        setKeySequence(text);\n\n        if (!text) {\n          return;\n        }\n\n        const typedKeys = text.split(\"\");\n\n        const exactMatch = confirmedResults.find(\n          (result) =>\n            result.pathKeys.length === typedKeys.length &&\n            result.pathKeys.every((key, i) => key === typedKeys[i]),\n        );\n\n        const hasLongerMatch = confirmedResults.some(\n          (result) =>\n            result.pathKeys.length > typedKeys.length &&\n            typedKeys.every((key, i) => result.pathKeys[i] === key),\n        );\n\n        if (exactMatch && !hasLongerMatch) {\n          setConfirmedResults([]);\n          setKeySequence(\"\");\n          setSearchText(\"\");\n          setSearchMode(false);\n\n          if (isGroup(exactMatch.item)) {\n            setCurrentPath(exactMatch.path);\n          } else {\n            const browser = resolveBrowser(config!, exactMatch.path);\n            executeAction(\n              exactMatch.item as ActionItem,\n              () => {\n                setCurrentPath([]);\n              },\n              browser,\n            );\n          }\n          return;\n        }\n\n        if (!exactMatch && !hasLongerMatch && typedKeys.length > 0) {\n          setSearchText(\"\");\n          setKeySequence(\"\");\n        }\n\n        return;\n      }\n\n      if (searchMode) {\n        setSearchQuery(text);\n        setSearchText(text);\n        return;\n      }\n\n      setSearchText(text);\n\n      if (!text || !currentGroup) {\n        return;\n      }\n\n      if (text.length === 1) {\n        const matchingItem = currentGroup.actions.find(\n          (item) => item.key === text,\n        );\n\n        if (matchingItem) {\n          if (isGroup(matchingItem)) {\n            setCurrentPath([...currentPath, matchingItem.id]);\n            setSearchText(\"\");\n          } else {\n            const browser = resolveBrowser(config!, [\n              ...currentPath,\n              matchingItem.id,\n            ]);\n            executeAction(\n              matchingItem,\n              () => {\n                setCurrentPath([]);\n                setSearchText(\"\");\n              },\n              browser,\n            );\n          }\n        } else {\n          setSearchText(\"\");\n          showToast({\n            style: Toast.Style.Failure,\n            title: \"No action assigned\",\n            message: `Key \"${text}\" is not bound to any action`,\n          });\n        }\n      } else {\n        setSearchText(\"\");\n      }\n    },\n    [currentGroup, currentPath, resetTimeout, searchMode, confirmedResults],\n  );\n\n  const handleGoBack = useCallback(() => {\n    if (confirmedResults.length > 0) {\n      setConfirmedResults([]);\n      setKeySequence(\"\");\n      setSearchText(\"\");\n      setSearchMode(true);\n      setSearchQuery(\"\");\n      return;\n    }\n    if (searchMode) {\n      setSearchMode(false);\n      setSearchQuery(\"\");\n      setSearchText(\"\");\n      return;\n    }\n    if (currentPath.length > 0) {\n      setCurrentPath(currentPath.slice(0, -1));\n      setSearchText(\"\");\n    }\n  }, [currentPath, searchMode, confirmedResults]);\n\n  const handleEnterSearchMode = useCallback(() => {\n    setSearchMode(true);\n    setSearchQuery(\"\");\n    setSearchText(\"\");\n  }, []);\n\n  const handleExitSearchMode = useCallback(() => {\n    setSearchMode(false);\n    setSearchQuery(\"\");\n    setSearchText(\"\");\n    setConfirmedResults([]);\n    setKeySequence(\"\");\n  }, []);\n\n  const handleConfirmSearch = useCallback(() => {\n    if (searchResults.length === 0) {\n      return;\n    }\n    setConfirmedResults(searchResults);\n    setSearchQuery(\"\");\n    setSearchText(\"\");\n    setKeySequence(\"\");\n  }, [searchResults]);\n\n  const handleExitConfirmedMode = useCallback(() => {\n    setConfirmedResults([]);\n    setKeySequence(\"\");\n    setSearchText(\"\");\n    setSearchMode(true);\n    setSearchQuery(\"\");\n  }, []);\n\n  const handleExecuteConfirmedResult = useCallback(\n    (result: SearchResult) => {\n      setConfirmedResults([]);\n      setKeySequence(\"\");\n      setSearchText(\"\");\n      setSearchMode(false);\n\n      if (isGroup(result.item)) {\n        setCurrentPath(result.path);\n      } else {\n        const browser = resolveBrowser(config!, result.path);\n        executeAction(\n          result.item as ActionItem,\n          () => {\n            setCurrentPath([]);\n          },\n          browser,\n        );\n      }\n    },\n    [config],\n  );\n\n  const handleSelectSearchResult = useCallback((result: SearchResult) => {\n    setSearchMode(false);\n    setSearchQuery(\"\");\n    setSearchText(\"\");\n\n    if (isGroup(result.item)) {\n      setCurrentPath(result.path);\n    } else {\n      const parentPath = result.path.slice(0, -1);\n      setCurrentPath(parentPath);\n    }\n  }, []);\n\n  const handleGoToParentGroup = useCallback((result: SearchResult) => {\n    setSearchMode(false);\n    setSearchQuery(\"\");\n    setSearchText(\"\");\n    setConfirmedResults([]);\n    setKeySequence(\"\");\n\n    const parentPath = result.path.slice(0, -1);\n    setCurrentPath(parentPath);\n  }, []);\n\n  const breadcrumb = getBreadcrumb(config, currentPath);\n\n  const getPlaceholder = () => {\n    if (confirmedResults.length > 0) {\n      const sequences = confirmedResults\n        .slice(0, 3)\n        .map((r) => r.pathKeys.join(\"\"))\n        .join(\", \");\n      const more = confirmedResults.length > 3 ? \"...\" : \"\";\n      return `Type key sequence (${sequences}${more}) - Tab to go back`;\n    }\n    if (searchMode) {\n      return \"(Search -> Use \u2318\u21B5 to continue using Key sequence after search, Tab to exit search)\";\n    }\n    if (currentPath.length > 0) {\n      return `${breadcrumb} \u2192 Input a key | Use \"Tab\" to search`;\n    }\n    return 'Input a key | Use \"Tab\" to search';\n  };\n\n  if (confirmedResults.length > 0 && config) {\n    return (\n      <List\n        isLoading={isLoading}\n        searchText={searchText}\n        onSearchTextChange={handleSearchChange}\n        searchBarPlaceholder={getPlaceholder()}\n        throttle={false}\n        filtering={false}\n      >\n        <List.Section\n          title=\"Type Key Sequence\"\n          subtitle={`${confirmedResults.length} results \u2022 ${keySequence || \"waiting...\"}`}\n        >\n          {confirmedResults.map((result) => (\n            <ConfirmedResultRow\n              key={result.path.join(\"-\")}\n              result={result}\n              currentSequence={keySequence}\n              onExit={handleExitConfirmedMode}\n              onExecute={() => handleExecuteConfirmedResult(result)}\n              onGoToParent={() => handleGoToParentGroup(result)}\n            />\n          ))}\n        </List.Section>\n      </List>\n    );\n  }\n\n  if (searchMode && config) {\n    return (\n      <List\n        isLoading={isLoading}\n        searchText={searchText}\n        onSearchTextChange={handleSearchChange}\n        searchBarPlaceholder={getPlaceholder()}\n        throttle={false}\n        filtering={false}\n      >\n        {searchResults.length > 0 ? (\n          <List.Section\n            title=\"Search Results\"\n            subtitle={`${searchResults.length}`}\n          >\n            {searchResults.map((result) => (\n              <SearchResultRow\n                key={result.path.join(\"-\")}\n                result={result}\n                onSelect={() => handleSelectSearchResult(result)}\n                onExitSearch={handleExitSearchMode}\n                onConfirmSearch={handleConfirmSearch}\n                onGoToParent={() => handleGoToParentGroup(result)}\n              />\n            ))}\n          </List.Section>\n        ) : searchQuery ? (\n          <List.EmptyView\n            icon={Icon.MagnifyingGlass}\n            title=\"No results found\"\n            description={`No items match \"${searchQuery}\". Press Tab to exit search.`}\n            actions={\n              <ActionPanel>\n                <Action\n                  title=\"Exit Search\"\n                  icon={Icon.ArrowLeft}\n                  shortcut={{ modifiers: [], key: \"tab\" }}\n                  onAction={handleExitSearchMode}\n                />\n              </ActionPanel>\n            }\n          />\n        ) : (\n          <List.EmptyView\n            icon={Icon.MagnifyingGlass}\n            title=\"Search Mode\"\n            description=\"Type to search. Press \u2318\u21B5 to lock results and type key sequence. Tab to exit.\"\n            actions={\n              <ActionPanel>\n                <Action\n                  title=\"Exit Search\"\n                  icon={Icon.ArrowLeft}\n                  shortcut={{ modifiers: [], key: \"tab\" }}\n                  onAction={handleExitSearchMode}\n                />\n              </ActionPanel>\n            }\n          />\n        )}\n      </List>\n    );\n  }\n\n  return (\n    <List\n      isLoading={isLoading}\n      searchText={searchText}\n      onSearchTextChange={handleSearchChange}\n      searchBarPlaceholder={getPlaceholder()}\n      throttle={false}\n    >\n      {groupedItems.map((group) => (\n        <List.Section\n          key={group.type}\n          title={group.label}\n          subtitle={`${group.items.length}`}\n        >\n          {group.items.map((item) => (\n            <ItemRow\n              key={item.id}\n              item={item}\n              config={config!}\n              currentPath={currentPath}\n              onSelect={() => {\n                if (isGroup(item)) {\n                  setCurrentPath([...currentPath, item.id]);\n                  setSearchText(\"\");\n                } else {\n                  const browser = resolveBrowser(config!, [\n                    ...currentPath,\n                    item.id,\n                  ]);\n                  executeAction(\n                    item,\n                    () => {\n                      setCurrentPath([]);\n                      setSearchText(\"\");\n                    },\n                    browser,\n                  );\n                }\n              }}\n              onGoBack={currentPath.length > 0 ? handleGoBack : undefined}\n              onDelete={() => handleDelete(item, [...currentPath, item.id])}\n              onConfigUpdate={(newConfig) => setConfig(newConfig)}\n              onClearConfig={handleClearConfig}\n              onEnterSearchMode={handleEnterSearchMode}\n              push={push}\n            />\n          ))}\n        </List.Section>\n      ))}\n      {items.length === 0 && !isLoading && (\n        <List.EmptyView\n          icon={Icon.Folder}\n          title=\"Empty group\"\n          description=\"Press \u2318N to add an action, \u2318\u21E7N for a group, or Tab to search\"\n          actions={\n            <ActionPanel>\n              <Action\n                title=\"Search\"\n                icon={Icon.MagnifyingGlass}\n                shortcut={{ modifiers: [], key: \"tab\" }}\n                onAction={handleEnterSearchMode}\n              />\n              <Action\n                title=\"Add Action\"\n                icon={Icon.Plus}\n                shortcut={{ modifiers: [\"cmd\"], key: \"n\" }}\n                onAction={() =>\n                  push(\n                    <AddItemForm\n                      config={config!}\n                      parentPath={currentPath}\n                      itemType=\"action\"\n                      onSave={async (newConfig) => {\n                        await saveConfig(newConfig);\n                        setConfig(newConfig);\n                      }}\n                    />,\n                  )\n                }\n              />\n              <Action\n                title=\"Add Group\"\n                icon={Icon.Folder}\n                shortcut={{ modifiers: [\"cmd\", \"shift\"], key: \"n\" }}\n                onAction={() =>\n                  push(\n                    <AddItemForm\n                      config={config!}\n                      parentPath={currentPath}\n                      itemType=\"group\"\n                      onSave={async (newConfig) => {\n                        await saveConfig(newConfig);\n                        setConfig(newConfig);\n                      }}\n                    />,\n                  )\n                }\n              />\n              <Action\n                title=\"Clear All Configuration\"\n                icon={Icon.Trash}\n                style={Action.Style.Destructive}\n                onAction={handleClearConfig}\n              />\n            </ActionPanel>\n          }\n        />\n      )}\n    </List>\n  );\n}\n\nfunction SearchResultRow({\n  result,\n  onSelect,\n  onExitSearch,\n  onConfirmSearch,\n  onGoToParent,\n}: {\n  result: SearchResult;\n  onSelect: () => void;\n  onExitSearch: () => void;\n  onConfirmSearch: () => void;\n  onGoToParent: () => void;\n}) {\n  const isGroupItem = isGroup(result.item);\n  const actionItem = result.item as ActionItem;\n\n  function getItemIcon() {\n    if (isGroupItem) {\n      return Icon.Folder;\n    }\n    if (actionItem.type === \"application\") {\n      return { fileIcon: actionItem.value };\n    }\n    return getActionIcon(actionItem.type);\n  }\n\n  const pathDisplay = result.pathKeys.join(\" \u2192 \");\n  const hasParent = result.path.length > 1;\n  const parentLabel =\n    result.pathLabels.length > 1\n      ? result.pathLabels[result.pathLabels.length - 2]\n      : \"Root\";\n\n  return (\n    <List.Item\n      icon={getItemIcon()}\n      title={result.item.label || result.item.key}\n      subtitle={\n        isGroupItem\n          ? `${(result.item as Group).actions.length} items`\n          : getValuePreview(actionItem)\n      }\n      accessories={[\n        {\n          tag: {\n            value: pathDisplay,\n            color: Color.Blue,\n          },\n        },\n      ]}\n      actions={\n        <ActionPanel>\n          <Action\n            title={isGroupItem ? \"Go to Group\" : \"Execute\"}\n            icon={Icon.ArrowRight}\n            onAction={onSelect}\n          />\n          <Action\n            title=\"Type Keys\"\n            icon={Icon.Keyboard}\n            shortcut={{ modifiers: [\"cmd\"], key: \"enter\" }}\n            onAction={onConfirmSearch}\n          />\n          <Action\n            title={hasParent ? `Go to Parent (${parentLabel})` : \"Go to Root\"}\n            icon={Icon.ArrowUp}\n            shortcut={{ modifiers: [\"cmd\", \"shift\"], key: \"p\" }}\n            onAction={onGoToParent}\n          />\n          <Action\n            title=\"Exit Search\"\n            icon={Icon.ArrowLeft}\n            shortcut={{ modifiers: [], key: \"tab\" }}\n            onAction={onExitSearch}\n          />\n        </ActionPanel>\n      }\n    />\n  );\n}\n\nfunction ConfirmedResultRow({\n  result,\n  currentSequence,\n  onExit,\n  onExecute,\n  onGoToParent,\n}: {\n  result: SearchResult;\n  currentSequence: string;\n  onExit: () => void;\n  onExecute: () => void;\n  onGoToParent: () => void;\n}) {\n  const isGroupItem = isGroup(result.item);\n  const actionItem = result.item as ActionItem;\n\n  function getItemIcon() {\n    if (isGroupItem) {\n      return Icon.Folder;\n    }\n    if (actionItem.type === \"application\") {\n      return { fileIcon: actionItem.value };\n    }\n    return getActionIcon(actionItem.type);\n  }\n\n  const keySequenceStr = result.pathKeys.join(\"\");\n  const isExactMatch = currentSequence === keySequenceStr;\n  const isMatching =\n    currentSequence.length > 0 && keySequenceStr.startsWith(currentSequence);\n  const hasParent = result.path.length > 1;\n  const parentLabel =\n    result.pathLabels.length > 1\n      ? result.pathLabels[result.pathLabels.length - 2]\n      : \"Root\";\n\n  return (\n    <List.Item\n      icon={getItemIcon()}\n      title={result.item.label || result.item.key}\n      subtitle={\n        isGroupItem\n          ? `${(result.item as Group).actions.length} items`\n          : getValuePreview(actionItem)\n      }\n      accessories={[\n        {\n          tag: {\n            value: keySequenceStr,\n            color: isExactMatch\n              ? Color.Green\n              : isMatching\n                ? Color.Yellow\n                : Color.Blue,\n          },\n        },\n      ]}\n      actions={\n        <ActionPanel>\n          {isExactMatch && (\n            <Action\n              title={isGroupItem ? \"Go to Group\" : \"Execute\"}\n              icon={isGroupItem ? Icon.Folder : Icon.Play}\n              onAction={onExecute}\n            />\n          )}\n          <Action\n            title={hasParent ? `Go to Parent (${parentLabel})` : \"Go to Root\"}\n            icon={Icon.ArrowUp}\n            shortcut={{ modifiers: [\"cmd\", \"shift\"], key: \"p\" }}\n            onAction={onGoToParent}\n          />\n          <Action\n            title=\"Back to Search\"\n            icon={Icon.ArrowLeft}\n            shortcut={{ modifiers: [], key: \"tab\" }}\n            onAction={onExit}\n          />\n        </ActionPanel>\n      }\n    />\n  );\n}\n\nfunction ItemRow({\n  item,\n  config,\n  currentPath,\n  onSelect,\n  onGoBack,\n  onDelete,\n  onConfigUpdate,\n  onClearConfig,\n  onEnterSearchMode,\n  push,\n}: {\n  item: ActionOrGroup;\n  config: RootConfig;\n  currentPath: string[];\n  onSelect: () => void;\n  onGoBack?: () => void;\n  onDelete: () => void;\n  onConfigUpdate: (config: RootConfig) => void;\n  onClearConfig: () => void;\n  onEnterSearchMode: () => void;\n  push: (component: React.ReactNode) => void;\n}) {\n  const isGroupItem = isGroup(item);\n  const actionItem = item as ActionItem;\n\n  function getItemIcon() {\n    if (isGroupItem) {\n      return Icon.Folder;\n    }\n    if (actionItem.type === \"application\") {\n      return { fileIcon: actionItem.value };\n    }\n    return getActionIcon(actionItem.type);\n  }\n\n  return (\n    <List.Item\n      icon={getItemIcon()}\n      title={item.label || \"\"}\n      subtitle={\n        isGroupItem\n          ? `${(item as Group).actions.length} items`\n          : getValuePreview(actionItem)\n      }\n      accessories={[\n        {\n          tag: {\n            value: item.key,\n            color: Color.Blue,\n          },\n        },\n      ]}\n      actions={\n        <ActionPanel>\n          <Action\n            title={isGroupItem ? \"Open Group\" : \"Execute\"}\n            icon={isGroupItem ? Icon.Folder : Icon.Play}\n            onAction={onSelect}\n          />\n          <Action\n            title=\"Search\"\n            icon={Icon.MagnifyingGlass}\n            shortcut={{ modifiers: [], key: \"tab\" }}\n            onAction={onEnterSearchMode}\n          />\n          {onGoBack && (\n            <Action\n              title=\"Go Back\"\n              icon={Icon.ArrowLeft}\n              shortcut={{ modifiers: [], key: \"backspace\" }}\n              onAction={onGoBack}\n            />\n          )}\n          <ActionPanel.Section title=\"Edit\">\n            <Action\n              title=\"Edit Item\"\n              icon={Icon.Pencil}\n              shortcut={{ modifiers: [\"cmd\"], key: \"e\" }}\n              onAction={() =>\n                push(\n                  <EditItemForm\n                    config={config}\n                    itemPath={[...currentPath, item.id]}\n                    onSave={async (newConfig) => {\n                      await saveConfig(newConfig);\n                      onConfigUpdate(newConfig);\n                    }}\n                  />,\n                )\n              }\n            />\n            <Action\n              title=\"Delete Item\"\n              icon={Icon.Trash}\n              style={Action.Style.Destructive}\n              shortcut={{ modifiers: [\"cmd\"], key: \"backspace\" }}\n              onAction={onDelete}\n            />\n          </ActionPanel.Section>\n          <ActionPanel.Section title=\"Add\">\n            <Action\n              title=\"Add Action\"\n              icon={Icon.Plus}\n              shortcut={{ modifiers: [\"cmd\"], key: \"n\" }}\n              onAction={() =>\n                push(\n                  <AddItemForm\n                    config={config}\n                    parentPath={currentPath}\n                    itemType=\"action\"\n                    onSave={async (newConfig) => {\n                      await saveConfig(newConfig);\n                      onConfigUpdate(newConfig);\n                    }}\n                  />,\n                )\n              }\n            />\n            <Action\n              title=\"Add Group\"\n              icon={Icon.Folder}\n              shortcut={{ modifiers: [\"cmd\", \"shift\"], key: \"n\" }}\n              onAction={() =>\n                push(\n                  <AddItemForm\n                    config={config}\n                    parentPath={currentPath}\n                    itemType=\"group\"\n                    onSave={async (newConfig) => {\n                      await saveConfig(newConfig);\n                      onConfigUpdate(newConfig);\n                    }}\n                  />,\n                )\n              }\n            />\n          </ActionPanel.Section>\n          {!isGroupItem && (\n            <Action.CopyToClipboard\n              title=\"Copy Value\"\n              content={actionItem.value}\n              shortcut={{ modifiers: [\"cmd\"], key: \"c\" }}\n            />\n          )}\n          <ActionPanel.Section title=\"Configuration\">\n            <Action\n              title=\"Clear All Configuration\"\n              icon={Icon.Trash}\n              style={Action.Style.Destructive}\n              onAction={onClearConfig}\n            />\n          </ActionPanel.Section>\n        </ActionPanel>\n      }\n    />\n  );\n}\n\nfunction getBreadcrumb(config: RootConfig | null, path: string[]): string {\n  if (!config || path.length === 0) {\n    return \"\";\n  }\n\n  const parts: string[] = [];\n  let current: Group | RootConfig = config;\n\n  for (const id of path) {\n    const found: ActionOrGroup | undefined = current.actions.find(\n      (a: ActionOrGroup) => a.id === id,\n    );\n    if (found && isGroup(found)) {\n      parts.push(found.label || found.key);\n      current = found;\n    }\n  }\n\n  return parts.join(\" \u2192 \");\n}\n\nfunction getValuePreview(action: ActionItem): string {\n  const { type, value } = action;\n\n  switch (type) {\n    case \"application\":\n      return value.split(\"/\").pop()?.replace(\".app\", \"\") || value;\n    case \"url\":\n      if (value.startsWith(\"raycast://\")) {\n        return \"Raycast: \" + value.split(\"/\").pop();\n      }\n      return value.length > 40 ? value.substring(0, 37) + \"...\" : value;\n    case \"folder\":\n      return value.split(\"/\").pop() || value;\n    case \"command\":\n      return value.length > 40 ? value.substring(0, 37) + \"...\" : value;\n    default:\n      return value;\n  }\n}\n\ntype ItemType = \"group\" | \"application\" | \"url\" | \"folder\" | \"command\";\n\ninterface GroupedItems {\n  type: ItemType;\n  label: string;\n  items: ActionOrGroup[];\n}\n\nconst TYPE_ORDER: ItemType[] = [\n  \"group\",\n  \"application\",\n  \"url\",\n  \"folder\",\n  \"command\",\n];\n\nconst TYPE_LABELS: Record<ItemType, string> = {\n  group: \"Groups\",\n  application: \"Applications\",\n  url: \"URLs\",\n  folder: \"Folders\",\n  command: \"Commands\",\n};\n\nfunction sortByKey(a: ActionOrGroup, b: ActionOrGroup): number {\n  return a.key.localeCompare(b.key);\n}\n\nfunction groupAndSortItems(items: ActionOrGroup[]): GroupedItems[] {\n  const byType = new Map<ItemType, ActionOrGroup[]>();\n\n  for (const item of items) {\n    const type = item.type as ItemType;\n    const existing = byType.get(type) || [];\n    existing.push(item);\n    byType.set(type, existing);\n  }\n\n  const result: GroupedItems[] = [];\n  for (const type of TYPE_ORDER) {\n    const typeItems = byType.get(type);\n    if (typeItems && typeItems.length > 0) {\n      result.push({\n        type,\n        label: TYPE_LABELS[type],\n        items: typeItems.sort(sortByKey),\n      });\n    }\n  }\n\n  return result;\n}\n", "export type ActionType = \"application\" | \"url\" | \"command\" | \"folder\";\n\nexport interface Action {\n  id: string;\n  key: string;\n  type: ActionType;\n  label?: string;\n  value: string;\n  browser?: string;\n}\n\nexport interface Group {\n  id: string;\n  key: string;\n  type: \"group\";\n  label?: string;\n  actions: ActionOrGroup[];\n  browser?: string;\n}\n\nexport type ActionOrGroup = Action | Group;\n\nexport function isGroup(item: ActionOrGroup): item is Group {\n  return item.type === \"group\";\n}\n\nexport function isAction(item: ActionOrGroup): item is Action {\n  return item.type !== \"group\";\n}\n\nexport interface RootConfig {\n  type: \"group\";\n  actions: ActionOrGroup[];\n}\n\nexport interface ConfigData {\n  root: RootConfig;\n  version: number;\n}\n\nexport type LegacyActionType = \"app\" | \"url\" | \"file\" | \"shell\" | \"raycast\";\n\nexport interface LegacyKeyMapping {\n  id: string;\n  sequence: string;\n  label: string;\n  description?: string;\n  isGroup?: boolean;\n  groupName?: string;\n  action?: {\n    type: LegacyActionType;\n    target: string;\n  };\n}\n\nexport interface LegacyMappingsData {\n  mappings: LegacyKeyMapping[];\n}\n", "import { LocalStorage } from \"@raycast/api\";\nimport {\n  ActionOrGroup,\n  RootConfig,\n  ConfigData,\n  isGroup,\n  Action,\n  Group,\n  LegacyMappingsData,\n  ActionType,\n} from \"./types\";\n\nconst STORAGE_KEY = \"leader-key-config\";\nconst LEGACY_STORAGE_KEY = \"key-mappings\";\nconst CURRENT_VERSION = 1;\n\ntype Platform = \"mac\" | \"windows\";\n\nconst platform: Platform = process.platform === \"win32\" ? \"windows\" : \"mac\";\n\nconst platformApps = {\n  mac: {\n    browser: { label: \"Safari\", value: \"/Applications/Safari.app\" },\n    fileManager: {\n      label: \"Finder\",\n      value: \"/System/Library/CoreServices/Finder.app\",\n    },\n    terminal: {\n      label: \"Terminal\",\n      value: \"/System/Applications/Utilities/Terminal.app\",\n    },\n    calculator: {\n      label: \"Calculator\",\n      value: \"/System/Applications/Calculator.app\",\n    },\n    notes: { label: \"Notes\", value: \"/System/Applications/Notes.app\" },\n  },\n  windows: {\n    browser: { label: \"Edge\", value: \"msedge.exe\" },\n    fileManager: { label: \"Explorer\", value: \"explorer.exe\" },\n    terminal: { label: \"Command Prompt\", value: \"cmd.exe\" },\n    calculator: { label: \"Calculator\", value: \"calc.exe\" },\n    notes: { label: \"Notepad\", value: \"notepad.exe\" },\n  },\n} as const;\n\nconst apps = platformApps[platform];\n\nconst DEFAULT_CONFIG: RootConfig = {\n  type: \"group\",\n  actions: [\n    {\n      id: \"default-a\",\n      key: \"a\",\n      type: \"group\",\n      label: \"Applications\",\n      actions: [\n        {\n          id: \"default-ab\",\n          key: \"b\",\n          type: \"application\",\n          label: apps.browser.label,\n          value: apps.browser.value,\n        },\n        {\n          id: \"default-at\",\n          key: \"t\",\n          type: \"application\",\n          label: apps.terminal.label,\n          value: apps.terminal.value,\n        },\n        {\n          id: \"default-af\",\n          key: \"f\",\n          type: \"application\",\n          label: apps.fileManager.label,\n          value: apps.fileManager.value,\n        },\n        {\n          id: \"default-ac\",\n          key: \"c\",\n          type: \"application\",\n          label: apps.calculator.label,\n          value: apps.calculator.value,\n        },\n        {\n          id: \"default-an\",\n          key: \"n\",\n          type: \"application\",\n          label: apps.notes.label,\n          value: apps.notes.value,\n        },\n      ],\n    },\n    {\n      id: \"default-u\",\n      key: \"u\",\n      type: \"group\",\n      label: \"URLs\",\n      actions: [\n        {\n          id: \"default-ug\",\n          key: \"g\",\n          type: \"url\",\n          label: \"Google\",\n          value: \"https://google.com\",\n        },\n        {\n          id: \"default-uh\",\n          key: \"h\",\n          type: \"url\",\n          label: \"GitHub\",\n          value: \"https://github.com\",\n        },\n      ],\n    },\n  ],\n};\n\nexport async function getConfig(): Promise<RootConfig> {\n  const stored = await LocalStorage.getItem<string>(STORAGE_KEY);\n\n  if (!stored) {\n    const migrated = await migrateFromLegacy();\n    if (migrated) {\n      return migrated;\n    }\n    await saveConfig(DEFAULT_CONFIG);\n    return DEFAULT_CONFIG;\n  }\n\n  try {\n    const data: ConfigData = JSON.parse(stored);\n    return data.root;\n  } catch {\n    return DEFAULT_CONFIG;\n  }\n}\n\nexport async function saveConfig(config: RootConfig): Promise<void> {\n  const data: ConfigData = {\n    root: config,\n    version: CURRENT_VERSION,\n  };\n  await LocalStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n}\n\nexport async function addItemToGroup(\n  config: RootConfig,\n  parentPath: string[],\n  item: ActionOrGroup,\n): Promise<RootConfig> {\n  const newConfig = structuredClone(config);\n  const parent = findGroupByPath(newConfig, parentPath);\n  if (parent) {\n    parent.actions.push(item);\n  }\n  return newConfig;\n}\n\nexport async function updateItem(\n  config: RootConfig,\n  path: string[],\n  updates: Partial<Action> | Partial<Group>,\n): Promise<RootConfig> {\n  const newConfig = structuredClone(config);\n  const parentPath = path.slice(0, -1);\n  const itemId = path[path.length - 1];\n  const parent =\n    parentPath.length === 0\n      ? newConfig\n      : findGroupByPath(newConfig, parentPath);\n\n  if (parent) {\n    const index = parent.actions.findIndex((a) => a.id === itemId);\n    if (index !== -1) {\n      parent.actions[index] = {\n        ...parent.actions[index],\n        ...updates,\n      } as ActionOrGroup;\n    }\n  }\n  return newConfig;\n}\n\nexport async function deleteItem(\n  config: RootConfig,\n  path: string[],\n): Promise<RootConfig> {\n  const newConfig = structuredClone(config);\n  const parentPath = path.slice(0, -1);\n  const itemId = path[path.length - 1];\n  const parent =\n    parentPath.length === 0\n      ? newConfig\n      : findGroupByPath(newConfig, parentPath);\n\n  if (parent) {\n    parent.actions = parent.actions.filter((a) => a.id !== itemId);\n  }\n  return newConfig;\n}\n\nexport function findGroupByPath(\n  config: RootConfig | Group,\n  path: string[],\n): Group | null {\n  if (path.length === 0) {\n    return config as Group;\n  }\n\n  const [currentId, ...rest] = path;\n  const child = config.actions.find((a) => a.id === currentId);\n\n  if (!child || !isGroup(child)) {\n    return null;\n  }\n\n  if (rest.length === 0) {\n    return child;\n  }\n\n  return findGroupByPath(child, rest);\n}\n\nexport function findItemByPath(\n  config: RootConfig,\n  path: string[],\n): ActionOrGroup | null {\n  if (path.length === 0) {\n    return null;\n  }\n\n  const parentPath = path.slice(0, -1);\n  const itemId = path[path.length - 1];\n  const parent =\n    parentPath.length === 0 ? config : findGroupByPath(config, parentPath);\n\n  if (!parent) {\n    return null;\n  }\n\n  return parent.actions.find((a) => a.id === itemId) || null;\n}\n\nexport function resolveBrowser(\n  config: RootConfig,\n  actionPath: string[],\n): string | undefined {\n  const item = findItemByPath(config, actionPath);\n  if (item && !isGroup(item) && item.browser) {\n    return item.browser;\n  }\n\n  for (let i = actionPath.length - 1; i >= 1; i--) {\n    const ancestorPath = actionPath.slice(0, i);\n    const ancestor = findItemByPath(config, ancestorPath);\n    if (ancestor && isGroup(ancestor) && ancestor.browser) {\n      return ancestor.browser;\n    }\n  }\n\n  return undefined;\n}\n\nexport function generateId(): string {\n  return Date.now().toString(36) + Math.random().toString(36).slice(2);\n}\n\nexport function checkKeyConflict(\n  group: Group | RootConfig,\n  newKey: string,\n  excludeId?: string,\n): { hasConflict: boolean; conflictLabel: string } {\n  for (const item of group.actions) {\n    if (excludeId && item.id === excludeId) continue;\n    if (item.key === newKey) {\n      return {\n        hasConflict: true,\n        conflictLabel:\n          item.label || (item.type === \"group\" ? \"a group\" : item.value),\n      };\n    }\n  }\n  return { hasConflict: false, conflictLabel: \"\" };\n}\n\nasync function migrateFromLegacy(): Promise<RootConfig | null> {\n  const stored = await LocalStorage.getItem<string>(LEGACY_STORAGE_KEY);\n  if (!stored) {\n    return null;\n  }\n\n  try {\n    const data: LegacyMappingsData = JSON.parse(stored);\n    const mappings = data.mappings;\n\n    if (!mappings || mappings.length === 0) {\n      return null;\n    }\n\n    const root: RootConfig = { type: \"group\", actions: [] };\n    const groupMap = new Map<string, Group>();\n\n    const groups = mappings.filter((m) => m.isGroup && !m.action);\n    for (const g of groups) {\n      const group: Group = {\n        id: g.id,\n        key: g.sequence,\n        type: \"group\",\n        label: g.groupName || g.label,\n        actions: [],\n      };\n      groupMap.set(g.sequence, group);\n    }\n\n    for (const m of mappings) {\n      if (m.isGroup && !m.action) continue;\n      if (!m.action) continue;\n\n      const action: Action = {\n        id: m.id,\n        key: m.sequence.length > 1 ? m.sequence.slice(-1) : m.sequence,\n        type: convertLegacyType(m.action.type),\n        label: m.label,\n        value: m.action.target,\n      };\n\n      if (m.sequence.length > 1) {\n        const prefix = m.sequence.slice(0, -1);\n        const parentGroup = groupMap.get(prefix);\n        if (parentGroup) {\n          parentGroup.actions.push(action);\n        } else {\n          let group = groupMap.get(prefix);\n          if (!group) {\n            group = {\n              id: generateId(),\n              key: prefix,\n              type: \"group\",\n              label: prefix.toUpperCase(),\n              actions: [],\n            };\n            groupMap.set(prefix, group);\n          }\n          group.actions.push(action);\n        }\n      } else {\n        root.actions.push(action);\n      }\n    }\n\n    for (const group of groupMap.values()) {\n      if (group.key.length === 1) {\n        root.actions.push(group);\n      }\n    }\n\n    await saveConfig(root);\n    return root;\n  } catch {\n    return null;\n  }\n}\n\nfunction convertLegacyType(legacyType: string): ActionType {\n  switch (legacyType) {\n    case \"app\":\n      return \"application\";\n    case \"url\":\n    case \"raycast\":\n      return \"url\";\n    case \"file\":\n      return \"folder\";\n    case \"shell\":\n      return \"command\";\n    default:\n      return \"application\";\n  }\n}\n\nexport interface LeaderKeyAction {\n  key: string;\n  type: \"application\" | \"url\" | \"folder\" | \"command\";\n  value: string;\n  label?: string;\n  browser?: string;\n}\n\nexport interface LeaderKeyGroup {\n  key: string;\n  type: \"group\";\n  label?: string;\n  actions: LeaderKeyItem[];\n  browser?: string;\n}\n\nexport type LeaderKeyItem = LeaderKeyAction | LeaderKeyGroup;\n\nexport interface LeaderKeyConfig {\n  type: \"group\";\n  actions: LeaderKeyItem[];\n}\n\nexport function importLeaderKeyConfig(external: LeaderKeyConfig): RootConfig {\n  function convertItem(\n    item: LeaderKeyItem,\n    prefix: string = \"\",\n  ): ActionOrGroup {\n    const id = generateId();\n\n    if (item.type === \"group\") {\n      const group = item as LeaderKeyGroup;\n      return {\n        id,\n        key: group.key,\n        type: \"group\",\n        label: group.label,\n        actions: group.actions.map((child) =>\n          convertItem(child, prefix + group.key),\n        ),\n        ...(group.browser ? { browser: group.browser } : {}),\n      } as Group;\n    } else {\n      const action = item as LeaderKeyAction;\n      return {\n        id,\n        key: action.key,\n        type: action.type,\n        label: action.label,\n        value: action.value,\n        ...(action.browser ? { browser: action.browser } : {}),\n      } as Action;\n    }\n  }\n\n  return {\n    type: \"group\",\n    actions: external.actions.map((item) => convertItem(item)),\n  };\n}\n\nexport function exportLeaderKeyConfig(config: RootConfig): LeaderKeyConfig {\n  function convertItem(item: ActionOrGroup): LeaderKeyItem {\n    if (isGroup(item)) {\n      const result: LeaderKeyGroup = {\n        key: item.key,\n        type: \"group\",\n        actions: item.actions.map(convertItem),\n      };\n      if (item.label) {\n        result.label = item.label;\n      }\n      if (item.browser) {\n        result.browser = item.browser;\n      }\n      return result;\n    } else {\n      const action = item as Action;\n      const result: LeaderKeyAction = {\n        key: action.key,\n        type: action.type,\n        value: action.value,\n      };\n      if (action.label) {\n        result.label = action.label;\n      }\n      if (action.browser) {\n        result.browser = action.browser;\n      }\n      return result;\n    }\n  }\n\n  return {\n    type: \"group\",\n    actions: config.actions.map(convertItem),\n  };\n}\n\nexport async function importConfigFromJson(\n  jsonString: string,\n): Promise<{ success: boolean; error?: string }> {\n  try {\n    const parsed = JSON.parse(jsonString);\n\n    if (!parsed || typeof parsed !== \"object\") {\n      return { success: false, error: \"Invalid JSON: not an object\" };\n    }\n    if (parsed.type !== \"group\") {\n      return {\n        success: false,\n        error: \"Invalid config: root must have type 'group'\",\n      };\n    }\n    if (!Array.isArray(parsed.actions)) {\n      return {\n        success: false,\n        error: \"Invalid config: missing 'actions' array\",\n      };\n    }\n\n    const config = importLeaderKeyConfig(parsed as LeaderKeyConfig);\n    await saveConfig(config);\n    return { success: true };\n  } catch (e) {\n    const message = e instanceof Error ? e.message : \"Unknown error\";\n    return { success: false, error: `Parse error: ${message}` };\n  }\n}\n\nexport async function exportConfigToJson(): Promise<string> {\n  const config = await getConfig();\n  const external = exportLeaderKeyConfig(config);\n  return JSON.stringify(external, null, 2);\n}\n", "import {\n  open,\n  showHUD,\n  showToast,\n  Toast,\n  closeMainWindow,\n  Icon,\n} from \"@raycast/api\";\nimport { exec } from \"child_process\";\nimport { promisify } from \"util\";\nimport { Action, ActionType } from \"./types\";\n\nconst execAsync = promisify(exec);\n\nexport async function executeAction(\n  action: Action,\n  onComplete?: () => void,\n  browser?: string,\n): Promise<void> {\n  const { type, value, label } = action;\n\n  try {\n    await closeMainWindow();\n\n    switch (type) {\n      case \"application\":\n        await openApp(value);\n        break;\n      case \"url\":\n        await openUrl(value, browser);\n        break;\n      case \"folder\":\n        await openFolder(value);\n        break;\n      case \"command\":\n        await runCommand(value);\n        break;\n    }\n\n    await showHUD(`\u2713 ${label || value}`);\n  } catch (error) {\n    const message = error instanceof Error ? error.message : \"Unknown error\";\n    await showToast({\n      style: Toast.Style.Failure,\n      title: \"Action Failed\",\n      message,\n    });\n  } finally {\n    if (onComplete) {\n      onComplete();\n    }\n  }\n}\n\nasync function openApp(appPath: string): Promise<void> {\n  await open(appPath);\n}\n\nasync function openUrl(url: string, browser?: string): Promise<void> {\n  if (browser && !url.startsWith(\"raycast://\")) {\n    await open(url, browser);\n  } else {\n    await open(url);\n  }\n}\n\nasync function openFolder(folderPath: string): Promise<void> {\n  await open(folderPath);\n}\n\nasync function runCommand(command: string): Promise<void> {\n  await execAsync(command);\n}\n\nexport function getActionIcon(type: ActionType | \"group\"): Icon {\n  switch (type) {\n    case \"application\":\n      return Icon.AppWindow;\n    case \"url\":\n      return Icon.Globe;\n    case \"folder\":\n      return Icon.Folder;\n    case \"command\":\n      return Icon.Terminal;\n    case \"group\":\n      return Icon.Folder;\n  }\n}\n\nexport function getActionTypeLabel(type: ActionType | \"group\"): string {\n  switch (type) {\n    case \"application\":\n      return \"Application\";\n    case \"url\":\n      return \"URL / Raycast Deeplink\";\n    case \"folder\":\n      return \"Folder\";\n    case \"command\":\n      return \"Shell Command\";\n    case \"group\":\n      return \"Group\";\n  }\n}\n", "import {\n  Action,\n  ActionPanel,\n  Form,\n  Icon,\n  useNavigation,\n  showToast,\n  Toast,\n  getApplications,\n  Application,\n} from \"@raycast/api\";\nimport { useEffect, useState } from \"react\";\nimport {\n  RootConfig,\n  ActionOrGroup,\n  Group,\n  Action as ActionItem,\n  ActionType,\n  isGroup,\n} from \"./types\";\nimport {\n  addItemToGroup,\n  updateItem,\n  findGroupByPath,\n  generateId,\n  checkKeyConflict,\n} from \"./storage\";\nimport { getActionIcon, getActionTypeLabel } from \"./actions\";\n\nexport interface AddItemFormProps {\n  config: RootConfig;\n  parentPath: string[];\n  itemType: \"action\" | \"group\";\n  onSave: (config: RootConfig) => Promise<void>;\n}\n\nexport function AddItemForm({\n  config,\n  parentPath,\n  itemType,\n  onSave,\n}: AddItemFormProps) {\n  const { pop } = useNavigation();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [actionType, setActionType] = useState<ActionType>(\"application\");\n  const [applications, setApplications] = useState<Application[]>([]);\n  const [isLoadingApps, setIsLoadingApps] = useState(true);\n\n  const parentGroup =\n    parentPath.length === 0 ? config : findGroupByPath(config, parentPath);\n\n  useEffect(() => {\n    async function loadApps() {\n      const apps = await getApplications();\n      apps.sort((a, b) => a.name.localeCompare(b.name));\n      setApplications(apps);\n      setIsLoadingApps(false);\n    }\n    loadApps();\n  }, []);\n\n  async function handleSubmit(values: {\n    key: string;\n    label: string;\n    actionType?: string;\n    value?: string;\n    appValue?: string;\n    browser?: string;\n  }) {\n    setIsSubmitting(true);\n\n    const key = values.key.slice(0, 1);\n\n    if (!key) {\n      await showToast({\n        style: Toast.Style.Failure,\n        title: \"Key required\",\n        message: \"Please enter a single character key\",\n      });\n      setIsSubmitting(false);\n      return;\n    }\n\n    if (parentGroup) {\n      const conflict = checkKeyConflict(parentGroup, key);\n      if (conflict.hasConflict) {\n        await showToast({\n          style: Toast.Style.Failure,\n          title: \"Key conflict\",\n          message: `Key \"${key}\" is already used by \"${conflict.conflictLabel}\"`,\n        });\n        setIsSubmitting(false);\n        return;\n      }\n    }\n\n    let newItem: ActionOrGroup;\n\n    if (itemType === \"group\") {\n      newItem = {\n        id: generateId(),\n        key,\n        type: \"group\",\n        label: values.label || undefined,\n        actions: [],\n        browser: values.browser || undefined,\n      } as Group;\n    } else {\n      const value =\n        values.actionType === \"application\" ? values.appValue : values.value;\n      if (!value) {\n        await showToast({\n          style: Toast.Style.Failure,\n          title: \"Value required\",\n          message: \"Please enter a value for this action\",\n        });\n        setIsSubmitting(false);\n        return;\n      }\n\n      newItem = {\n        id: generateId(),\n        key,\n        type: (values.actionType || \"application\") as ActionType,\n        label: values.label || undefined,\n        value,\n        ...(values.actionType === \"url\" && values.browser\n          ? { browser: values.browser }\n          : {}),\n      } as ActionItem;\n    }\n\n    const newConfig = await addItemToGroup(config, parentPath, newItem);\n    await onSave(newConfig);\n    await showToast({ style: Toast.Style.Success, title: \"Item added\" });\n    pop();\n  }\n\n  const targetConfig = getTargetConfig(actionType);\n\n  return (\n    <Form\n      isLoading={isSubmitting || isLoadingApps}\n      actions={\n        <ActionPanel>\n          <Action.SubmitForm\n            title={itemType === \"group\" ? \"Add Group\" : \"Add Action\"}\n            icon={Icon.Plus}\n            onSubmit={handleSubmit}\n          />\n        </ActionPanel>\n      }\n    >\n      <Form.TextField\n        id=\"key\"\n        title=\"Key\"\n        placeholder=\"Single character (e.g., t, o, r)\"\n        info=\"The key to press to trigger this item\"\n      />\n      <Form.TextField\n        id=\"label\"\n        title=\"Label\"\n        placeholder={\n          itemType === \"group\" ? \"e.g., Applications\" : \"e.g., Terminal\"\n        }\n        info=\"Display name for this item\"\n      />\n\n      {itemType === \"group\" && (\n        <>\n          <Form.Separator />\n          <Form.Dropdown\n            id=\"browser\"\n            title=\"Default Browser\"\n            info=\"URLs in this group will open with this browser unless overridden by the individual action\"\n          >\n            <Form.Dropdown.Item\n              value=\"\"\n              title=\"System Default\"\n              icon={Icon.Globe}\n            />\n            {applications.map((app) => (\n              <Form.Dropdown.Item\n                key={app.bundleId || app.path}\n                value={app.path}\n                title={app.name}\n                icon={{ fileIcon: app.path }}\n              />\n            ))}\n          </Form.Dropdown>\n        </>\n      )}\n\n      {itemType === \"action\" && (\n        <>\n          <Form.Separator />\n          <Form.Dropdown\n            id=\"actionType\"\n            title=\"Action Type\"\n            defaultValue=\"application\"\n            onChange={(value) => setActionType(value as ActionType)}\n          >\n            <Form.Dropdown.Item\n              value=\"application\"\n              title={getActionTypeLabel(\"application\")}\n              icon={getActionIcon(\"application\")}\n            />\n            <Form.Dropdown.Item\n              value=\"url\"\n              title={getActionTypeLabel(\"url\")}\n              icon={getActionIcon(\"url\")}\n            />\n            <Form.Dropdown.Item\n              value=\"folder\"\n              title={getActionTypeLabel(\"folder\")}\n              icon={getActionIcon(\"folder\")}\n            />\n            <Form.Dropdown.Item\n              value=\"command\"\n              title={getActionTypeLabel(\"command\")}\n              icon={getActionIcon(\"command\")}\n            />\n          </Form.Dropdown>\n\n          {actionType === \"application\" ? (\n            <Form.Dropdown\n              id=\"appValue\"\n              title={targetConfig.title}\n              info={targetConfig.info}\n            >\n              {applications.map((app) => (\n                <Form.Dropdown.Item\n                  key={app.bundleId || app.path}\n                  value={app.path}\n                  title={app.name}\n                  icon={{ fileIcon: app.path }}\n                />\n              ))}\n            </Form.Dropdown>\n          ) : (\n            <Form.TextField\n              id=\"value\"\n              title={targetConfig.title}\n              placeholder={targetConfig.placeholder}\n              info={targetConfig.info}\n            />\n          )}\n\n          {actionType === \"url\" && (\n            <Form.Dropdown\n              id=\"browser\"\n              title=\"Open With\"\n              info=\"Choose which browser to open this URL with. System Default inherits from the parent group or OS default.\"\n            >\n              <Form.Dropdown.Item\n                value=\"\"\n                title=\"System Default\"\n                icon={Icon.Globe}\n              />\n              {applications.map((app) => (\n                <Form.Dropdown.Item\n                  key={app.bundleId || app.path}\n                  value={app.path}\n                  title={app.name}\n                  icon={{ fileIcon: app.path }}\n                />\n              ))}\n            </Form.Dropdown>\n          )}\n        </>\n      )}\n    </Form>\n  );\n}\n\nexport interface EditItemFormProps {\n  config: RootConfig;\n  itemPath: string[];\n  onSave: (config: RootConfig) => Promise<void>;\n}\n\nexport function EditItemForm({ config, itemPath, onSave }: EditItemFormProps) {\n  const { pop } = useNavigation();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [actionType, setActionType] = useState<ActionType>(\"application\");\n  const [applications, setApplications] = useState<Application[]>([]);\n  const [isLoadingApps, setIsLoadingApps] = useState(true);\n\n  const parentPath = itemPath.slice(0, -1);\n  const itemId = itemPath[itemPath.length - 1];\n  const parentGroup =\n    parentPath.length === 0 ? config : findGroupByPath(config, parentPath);\n  const item = parentGroup?.actions.find((a: ActionOrGroup) => a.id === itemId);\n\n  useEffect(() => {\n    async function loadApps() {\n      const apps = await getApplications();\n      apps.sort((a, b) => a.name.localeCompare(b.name));\n      setApplications(apps);\n      setIsLoadingApps(false);\n    }\n    loadApps();\n  }, []);\n\n  useEffect(() => {\n    if (item && !isGroup(item)) {\n      setActionType(item.type);\n    }\n  }, [item]);\n\n  if (!item) {\n    return null;\n  }\n\n  const isGroupItem = isGroup(item);\n\n  async function handleSubmit(values: {\n    key: string;\n    label: string;\n    actionType?: string;\n    value?: string;\n    appValue?: string;\n    browser?: string;\n  }) {\n    setIsSubmitting(true);\n\n    const key = values.key.slice(0, 1);\n\n    if (!key) {\n      await showToast({\n        style: Toast.Style.Failure,\n        title: \"Key required\",\n        message: \"Please enter a single character key\",\n      });\n      setIsSubmitting(false);\n      return;\n    }\n\n    if (parentGroup && key !== item!.key) {\n      const conflict = checkKeyConflict(parentGroup, key, item!.id);\n      if (conflict.hasConflict) {\n        await showToast({\n          style: Toast.Style.Failure,\n          title: \"Key conflict\",\n          message: `Key \"${key}\" is already used by \"${conflict.conflictLabel}\"`,\n        });\n        setIsSubmitting(false);\n        return;\n      }\n    }\n\n    let updates: Partial<ActionItem> | Partial<Group>;\n\n    if (isGroupItem) {\n      updates = {\n        key,\n        label: values.label || undefined,\n        browser: values.browser || undefined,\n      };\n    } else {\n      const value =\n        values.actionType === \"application\" ? values.appValue : values.value;\n      if (!value) {\n        await showToast({\n          style: Toast.Style.Failure,\n          title: \"Value required\",\n          message: \"Please enter a value for this action\",\n        });\n        setIsSubmitting(false);\n        return;\n      }\n\n      updates = {\n        key,\n        type: (values.actionType || \"application\") as ActionType,\n        label: values.label || undefined,\n        value,\n        browser:\n          values.actionType === \"url\" ? values.browser || undefined : undefined,\n      };\n    }\n\n    const newConfig = await updateItem(config, itemPath, updates);\n    await onSave(newConfig);\n    await showToast({ style: Toast.Style.Success, title: \"Item updated\" });\n    pop();\n  }\n\n  const targetConfig = getTargetConfig(actionType);\n\n  return (\n    <Form\n      isLoading={isSubmitting || isLoadingApps}\n      actions={\n        <ActionPanel>\n          <Action.SubmitForm\n            title=\"Save Changes\"\n            icon={Icon.Check}\n            onSubmit={handleSubmit}\n          />\n        </ActionPanel>\n      }\n    >\n      <Form.TextField\n        id=\"key\"\n        title=\"Key\"\n        defaultValue={item.key}\n        placeholder=\"Single character (e.g., t, o, r)\"\n        info=\"The key to press to trigger this item\"\n      />\n      <Form.TextField\n        id=\"label\"\n        title=\"Label\"\n        defaultValue={item.label || \"\"}\n        placeholder={isGroupItem ? \"e.g., Applications\" : \"e.g., Terminal\"}\n        info=\"Display name for this item\"\n      />\n\n      {isGroupItem && (\n        <>\n          <Form.Separator />\n          <Form.Dropdown\n            id=\"browser\"\n            title=\"Default Browser\"\n            defaultValue={(item as Group).browser || \"\"}\n            info=\"URLs in this group will open with this browser unless overridden by the individual action\"\n          >\n            <Form.Dropdown.Item\n              value=\"\"\n              title=\"System Default\"\n              icon={Icon.Globe}\n            />\n            {applications.map((app) => (\n              <Form.Dropdown.Item\n                key={app.bundleId || app.path}\n                value={app.path}\n                title={app.name}\n                icon={{ fileIcon: app.path }}\n              />\n            ))}\n          </Form.Dropdown>\n        </>\n      )}\n\n      {!isGroupItem && (\n        <>\n          <Form.Separator />\n          <Form.Dropdown\n            id=\"actionType\"\n            title=\"Action Type\"\n            defaultValue={(item as ActionItem).type}\n            onChange={(value) => setActionType(value as ActionType)}\n          >\n            <Form.Dropdown.Item\n              value=\"application\"\n              title={getActionTypeLabel(\"application\")}\n              icon={getActionIcon(\"application\")}\n            />\n            <Form.Dropdown.Item\n              value=\"url\"\n              title={getActionTypeLabel(\"url\")}\n              icon={getActionIcon(\"url\")}\n            />\n            <Form.Dropdown.Item\n              value=\"folder\"\n              title={getActionTypeLabel(\"folder\")}\n              icon={getActionIcon(\"folder\")}\n            />\n            <Form.Dropdown.Item\n              value=\"command\"\n              title={getActionTypeLabel(\"command\")}\n              icon={getActionIcon(\"command\")}\n            />\n          </Form.Dropdown>\n\n          {actionType === \"application\" ? (\n            <Form.Dropdown\n              id=\"appValue\"\n              title={targetConfig.title}\n              defaultValue={(item as ActionItem).value}\n              info={targetConfig.info}\n            >\n              {applications.map((app) => (\n                <Form.Dropdown.Item\n                  key={app.bundleId || app.path}\n                  value={app.path}\n                  title={app.name}\n                  icon={{ fileIcon: app.path }}\n                />\n              ))}\n            </Form.Dropdown>\n          ) : (\n            <Form.TextField\n              id=\"value\"\n              title={targetConfig.title}\n              defaultValue={(item as ActionItem).value}\n              placeholder={targetConfig.placeholder}\n              info={targetConfig.info}\n            />\n          )}\n\n          {actionType === \"url\" && (\n            <Form.Dropdown\n              id=\"browser\"\n              title=\"Open With\"\n              defaultValue={(item as ActionItem).browser || \"\"}\n              info=\"Choose which browser to open this URL with. System Default inherits from the parent group or OS default.\"\n            >\n              <Form.Dropdown.Item\n                value=\"\"\n                title=\"System Default\"\n                icon={Icon.Globe}\n              />\n              {applications.map((app) => (\n                <Form.Dropdown.Item\n                  key={app.bundleId || app.path}\n                  value={app.path}\n                  title={app.name}\n                  icon={{ fileIcon: app.path }}\n                />\n              ))}\n            </Form.Dropdown>\n          )}\n        </>\n      )}\n    </Form>\n  );\n}\n\nfunction getTargetConfig(actionType: ActionType): {\n  title: string;\n  placeholder: string;\n  info: string;\n} {\n  switch (actionType) {\n    case \"application\":\n      return {\n        title: \"Application\",\n        placeholder: \"Select an application\",\n        info: \"Choose the application to open\",\n      };\n    case \"url\":\n      return {\n        title: \"URL\",\n        placeholder: \"https://example.com or raycast://...\",\n        info: \"The URL to open (supports raycast:// deeplinks)\",\n      };\n    case \"folder\":\n      return {\n        title: \"Folder Path\",\n        placeholder: \"/path/to/folder or ~/Documents\",\n        info: \"The folder path to open in file manager\",\n      };\n    case \"command\":\n      return {\n        title: \"Shell Command\",\n        placeholder: \"echo 'Hello World'\",\n        info: \"The shell command to execute\",\n      };\n  }\n}\n"],
  "mappings": "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",
  "names": ["leader_key_exports", "__export", "LeaderKey", "__toCommonJS", "import_api", "import_react", "isGroup", "item", "import_api", "STORAGE_KEY", "LEGACY_STORAGE_KEY", "CURRENT_VERSION", "platform", "platformApps", "apps", "DEFAULT_CONFIG", "getConfig", "stored", "migrated", "migrateFromLegacy", "saveConfig", "config", "data", "addItemToGroup", "parentPath", "item", "newConfig", "parent", "findGroupByPath", "updateItem", "path", "updates", "itemId", "index", "a", "deleteItem", "currentId", "rest", "child", "isGroup", "findItemByPath", "resolveBrowser", "actionPath", "i", "ancestorPath", "ancestor", "generateId", "checkKeyConflict", "group", "newKey", "excludeId", "mappings", "root", "groupMap", "groups", "m", "g", "action", "convertLegacyType", "prefix", "parentGroup", "legacyType", "import_api", "import_child_process", "import_util", "execAsync", "executeAction", "action", "onComplete", "browser", "type", "value", "label", "openApp", "openUrl", "openFolder", "runCommand", "error", "message", "appPath", "url", "folderPath", "command", "getActionIcon", "getActionTypeLabel", "import_api", "import_react", "import_jsx_runtime", "AddItemForm", "config", "parentPath", "itemType", "onSave", "pop", "isSubmitting", "setIsSubmitting", "actionType", "setActionType", "applications", "setApplications", "isLoadingApps", "setIsLoadingApps", "parentGroup", "findGroupByPath", "loadApps", "apps", "a", "b", "handleSubmit", "values", "key", "conflict", "checkKeyConflict", "newItem", "generateId", "value", "newConfig", "addItemToGroup", "targetConfig", "getTargetConfig", "app", "getActionTypeLabel", "getActionIcon", "EditItemForm", "itemPath", "itemId", "item", "isGroup", "isGroupItem", "updates", "updateItem", "import_jsx_runtime", "STORAGE_KEY", "LEGACY_STORAGE_KEY", "getTimeoutMs", "prefs", "seconds", "searchAllItems", "config", "query", "results", "lowerQuery", "traverse", "items", "currentPath", "currentKeys", "currentLabels", "item", "itemPath", "itemKeys", "itemLabels", "labelMatch", "keyMatch", "valueMatch", "isGroup", "LeaderKey", "setConfig", "isLoading", "setIsLoading", "setCurrentPath", "searchText", "setSearchText", "searchMode", "setSearchMode", "searchQuery", "setSearchQuery", "confirmedResults", "setConfirmedResults", "keySequence", "setKeySequence", "timeoutRef", "push", "loadConfig", "data", "getConfig", "handleDelete", "newConfig", "deleteItem", "saveConfig", "handleClearConfig", "currentGroup", "findGroupByPath", "groupedItems", "groupAndSortItems", "searchResults", "resetTimeout", "timeoutMs", "handleSearchChange", "text", "typedKeys", "exactMatch", "result", "key", "i", "hasLongerMatch", "browser", "resolveBrowser", "executeAction", "matchingItem", "handleGoBack", "handleEnterSearchMode", "handleExitSearchMode", "handleConfirmSearch", "handleExitConfirmedMode", "handleExecuteConfirmedResult", "handleSelectSearchResult", "parentPath", "handleGoToParentGroup", "breadcrumb", "getBreadcrumb", "getPlaceholder", "sequences", "r", "more", "ConfirmedResultRow", "SearchResultRow", "group", "ItemRow", "AddItemForm", "onSelect", "onExitSearch", "onConfirmSearch", "onGoToParent", "isGroupItem", "actionItem", "getItemIcon", "getActionIcon", "pathDisplay", "hasParent", "parentLabel", "getValuePreview", "currentSequence", "onExit", "onExecute", "keySequenceStr", "isExactMatch", "isMatching", "onGoBack", "onDelete", "onConfigUpdate", "onClearConfig", "onEnterSearchMode", "EditItemForm", "path", "parts", "current", "id", "found", "action", "type", "value", "TYPE_ORDER", "TYPE_LABELS", "sortByKey", "a", "b", "byType", "existing", "typeItems"]
}
